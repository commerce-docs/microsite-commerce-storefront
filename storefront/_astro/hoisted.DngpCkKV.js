function __vite__mapDeps(e){return __vite__mapDeps.viteFileDeps||(__vite__mapDeps.viteFileDeps=[]),e.map((e=>__vite__mapDeps.viteFileDeps[e]))}const v="starlight-image-zoom-zoomable";customElements.define("starlight-image-zoom",class extends HTMLElement{#e;#t=[];#n;#s=this.querySelector("template");#r={image:"starlight-image-zoom-image",opened:"starlight-image-zoom-opened",source:"starlight-image-zoom-source"};constructor(){super(),window.addEventListener("DOMContentLoaded",(()=>{(window.requestIdleCallback??(e=>setTimeout(e,1)))((()=>{const e=[...document.querySelectorAll(v)];0!==e.length&&this.#i(e)}))}))}#i(e){for(const t of e){const e=t.querySelector("img");e&&(this.#t.push(e),t.querySelector("button")?.addEventListener("click",(t=>{t.stopPropagation(),this.#o(e)})))}document.addEventListener("click",this.#a),window.addEventListener("resize",this.#c)}#a=({target:e})=>{if(!(e instanceof HTMLElement&&e.closest("figcaption"))){if(this.#e)return void this.#l();e instanceof HTMLImageElement&&this.#t.includes(e)&&this.#o(e)}};#c=()=>{this.#l(!0)};#d=()=>{this.#l()};#u=e=>{e.preventDefault(),this.#l()};#o(e){if(!this.#s||this.#e)return;this.#n=document.activeElement;const t=document.createElement("div");t.append(this.#s.content.cloneNode(!0));const n=t.querySelector("dialog"),s=n?.querySelector("figure");if(!n||!s)return;const r=this.#h(e);e.classList.add(this.#r.source),r.classList.add(this.#r.image),s.append(r),this.#m(e.getAttribute("alt"),s),document.body.append(t),document.addEventListener("wheel",this.#d,{once:!0}),n.addEventListener("cancel",this.#u),n.showModal(),r.style.transform=this.#p(e,s),document.body.classList.add(this.#r.opened),this.#e={dialog:n,image:e,zoomedImage:r}}#l(e=!1){if(!this.#e)return;const{zoomedImage:t}=this.#e;t.style.transform="",document.body.classList.remove(this.#r.opened);const{matches:n}=window.matchMedia("(prefers-reduced-motion: reduce)");e||n?this.#g():t.addEventListener("transitionend",this.#g,{once:!0})}#g=()=>{if(!this.#e)return;const{dialog:e,image:t}=this.#e;t.classList.remove(this.#r.source),e.parentElement?.remove(),this.#e=void 0,this.#n instanceof HTMLElement&&this.#n.focus()};#m(e,t){if(0===(e=e?.trim()??"").length)return;const n=document.createElement("figcaption");n.ariaHidden="true",n.textContent=e,t.append(n)}#h(e){const{height:t,left:n,top:s,width:r}=e.getBoundingClientRect(),i=e.cloneNode(!0);return i.removeAttribute("id"),i.style.position="absolute",i.style.width=`${r}px`,i.style.height=`${t}px`,i.style.top=`${s}px`,i.style.left=`${n}px`,i.style.transform="","PICTURE"===e.parentElement?.tagName&&e.currentSrc&&(i.src=e.currentSrc),i}#p(e,t){const n=this.#f(e),s=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n?r.height:e.naturalHeight,o=n?r.width:e.naturalWidth,a=Math.min(Math.max(s.width,o),r.width)/s.width,c=Math.min(Math.max(s.height,i),r.height)/s.height,l=Math.min(a,c);return`scale(${l}) translate3d(${(-s.left+(r.width-s.width)/2+r.left)/l}px, ${(-s.top+(r.height-s.height)/2+r.top)/l}px, 0)`}#f(e){return e.currentSrc.toLowerCase().endsWith(".svg")}});const y="_top";class E extends HTMLElement{constructor(){super(),this._current=this.querySelector('a[aria-current="true"]'),this.minH=parseInt(this.dataset.minH||"2",10),this.maxH=parseInt(this.dataset.maxH||"3",10);const e=[...this.querySelectorAll("a")],t=e=>{if(e instanceof HTMLHeadingElement){if(e.id===y)return!0;const t=e.tagName[1];if(t){const e=parseInt(t,10);if(e>=this.minH&&e<=this.maxH)return!0}}return!1},n=e=>{if(!e)return null;const s=e;for(;e;){if(t(e))return e;for(e=e.previousElementSibling;e?.lastElementChild;)e=e.lastElementChild;const s=n(e);if(s)return s}return n(s.parentElement)},s=t=>{for(const{isIntersecting:s,target:r}of t){if(!s)continue;const t=n(r);if(!t)continue;const i=e.find((e=>e.hash==="#"+encodeURIComponent(t.id)));if(i){this.current=i;break}}},r=document.querySelectorAll("main [id], main [id] ~ *, main .content > *");let i;const o=()=>{i&&i.disconnect(),i=new IntersectionObserver(s,{rootMargin:this.getRootMargin()}),r.forEach((e=>i.observe(e)))};o();const a=window.requestIdleCallback||(e=>setTimeout(e,1));let c;window.addEventListener("resize",(()=>{i&&i.disconnect(),clearTimeout(c),c=setTimeout((()=>a(o)),200)}))}set current(e){e!==this._current&&(this._current&&this._current.removeAttribute("aria-current"),e.setAttribute("aria-current","true"),this._current=e)}getRootMargin(){const e=(document.querySelector("header")?.getBoundingClientRect().height||0)+(this.querySelector("summary")?.getBoundingClientRect().height||0)+32;return`-${e}px 0% ${e+53-document.documentElement.clientHeight}px`}}customElements.define("starlight-toc",E);class S extends E{set current(e){super.current=e;const t=this.querySelector(".display-current");t&&(t.textContent=e.textContent)}constructor(){super();const e=this.querySelector("details");if(!e)return;const t=()=>{e.open=!1};e.querySelectorAll("a").forEach((e=>{e.addEventListener("click",t)})),window.addEventListener("click",(n=>{e.contains(n.target)||t()})),window.addEventListener("keydown",(n=>{if("Escape"===n.key&&e.open){const n=e.contains(document.activeElement);if(t(),n){const t=e.querySelector("summary");t&&t.focus()}}}))}}customElements.define("mobile-starlight-toc",S);class w extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&e.addEventListener("change",(e=>{e.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=e.currentTarget.value)}))}}customElements.define("starlight-lang-select",w);const L="modulepreload",b=function(e){return"/developer/commerce/storefront/"+e},p={},T=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),i=r?.nonce||r?.getAttribute("nonce");s=Promise.all(t.map((t=>{if((t=b(t))in p)return;p[t]=!0;const s=t.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(n)for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.href===t&&(!s||"stylesheet"===r.rel))return}else if(document.querySelector(`link[href="${t}"]${r}`))return;const o=document.createElement("link");return o.rel=s?"stylesheet":L,s||(o.as="script",o.crossOrigin=""),o.href=t,i&&o.setAttribute("nonce",i),document.head.appendChild(o),s?new Promise(((e,n)=>{o.addEventListener("load",e),o.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}return s.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};class M extends HTMLElement{constructor(){super();const e=this.querySelector("button[data-open-modal]"),t=this.querySelector("button[data-close-modal]"),n=this.querySelector("dialog"),s=this.querySelector(".dialog-frame"),r=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!s.contains(e.target))&&o()},i=e=>{n.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",r)},o=()=>n.close();e.addEventListener("click",i),e.disabled=!1,t.addEventListener("click",o),n.addEventListener("close",(()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",r)})),window.addEventListener("keydown",(e=>{const t=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);!0!==e.metaKey&&!0!==e.ctrlKey||"k"!==e.key?"/"===e.key&&!n.open&&!t&&(i(),e.preventDefault()):(n.open?o():i(),e.preventDefault())}));let a={};try{a=JSON.parse(this.dataset.translations||"{}")}catch{}const c=void 0!==this.dataset.stripTrailingSlash?e=>e.replace(/(.)\/(#.*)?$/,"$1$2"):e=>e;window.addEventListener("DOMContentLoaded",(()=>{(window.requestIdleCallback||(e=>setTimeout(e,1)))((async()=>{const{PagefindUI:e}=await T((()=>import("./ui-core.XjKn75yS.js")),__vite__mapDeps([]));new e({element:"#starlight__search",baseUrl:"/developer/commerce/storefront",bundlePath:"/developer/commerce/storefront".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:a,showSubResults:!0,processResult:e=>{e.url=c(e.url),e.sub_results=e.sub_results.map((e=>(e.url=c(e.url),e)))}})}))}))}}customElements.define("site-search",M);class k extends HTMLElement{#e="starlight-theme";constructor(){super(),this.#s(this.#i());const e=this.querySelector("select");e&&e.addEventListener("change",(e=>{e.currentTarget instanceof HTMLSelectElement&&this.#s(this.#t(e.currentTarget.value))}))}#t(e){return"auto"===e||"dark"===e||"light"===e?e:"auto"}#n(){return matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}#s(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme="auto"===e?this.#n():e,this.#r(e)}#r(e){typeof localStorage<"u"&&("light"===e||"dark"===e?localStorage.setItem(this.#e,e):localStorage.removeItem(this.#e))}#i(){const e=typeof localStorage<"u"&&localStorage.getItem(this.#e);return this.#t(e)}}customElements.define("starlight-theme-select",k);class C extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",(()=>this.toggleExpanded()));const e=this.closest("nav");e&&e.addEventListener("keyup",(e=>this.closeOnEscape(e)))}setExpanded(e){this.setAttribute("aria-expanded",String(e)),document.body.toggleAttribute("data-mobile-menu-expanded",e)}toggleExpanded(){this.setExpanded("true"!==this.getAttribute("aria-expanded"))}closeOnEscape(e){"Escape"===e.code&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",C);export{T as _};