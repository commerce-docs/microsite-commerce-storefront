---
interface Props {
  src: string;
  height?: number;
}

const { src, height } = Astro.props;
---

<iframe
  id="story"
  title={src}
  src={src}
  allow="clipboard-read; clipboard-write"
  width="100%"
  height=`${height}px`
  style="border: 1px solid #999999; overflow: hidden;"></iframe>

<!-- <script define:vars={{ height }}>
  window.addEventListener(
    'message',
    function (event) {
      if (event.data.height) {
        let iframe = document.getElementById('story') as HTMLIFrameElement;
        let iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
        iframeDocument.documentElement.style.overflow = 'hidden';
        iframe.style.height = event.data.height + 'px';
      }
    },
    true
  );
</script> -->
