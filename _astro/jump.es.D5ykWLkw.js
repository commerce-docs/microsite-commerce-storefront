import{C as u}from"./codemirror.es.DhNp89ap.js";import{g as d,a as l,b as m,c as g,d as c,e as j}from"./SchemaReference.es.ChqjoGnq.js";import"./codemirror.es2.CXusOVRv.js";import"./forEachState.es.DETpARGm.js";import"./GraphiQLEditor.h-EeZlAI.js";import"./index.BGCt5l70.js";function M(e,t){const o=t.target||t.srcElement;if(!(o instanceof HTMLElement)||"SPAN"!==o?.nodeName)return;const n=o.getBoundingClientRect(),s={left:(n.left+n.right)/2,top:(n.top+n.bottom)/2};e.state.jump.cursor=s,e.state.jump.isHoldingModifier&&f(e)}function k(e){e.state.jump.isHoldingModifier||!e.state.jump.cursor?e.state.jump.isHoldingModifier&&e.state.jump.marker&&p(e):e.state.jump.cursor=null}function y(e,t){if(e.state.jump.isHoldingModifier||!O(t.key))return;e.state.jump.isHoldingModifier=!0,e.state.jump.cursor&&f(e);const o=r=>{r.code===t.code&&(e.state.jump.isHoldingModifier=!1,e.state.jump.marker&&p(e),u.off(document,"keyup",o),u.off(document,"click",n),e.off("mousedown",s))},n=t=>{const{destination:o,options:n}=e.state.jump;o&&n.onClick(o,t)},s=(t,o)=>{e.state.jump.destination&&(o.codemirrorIgnore=!0)};u.on(document,"keyup",o),u.on(document,"click",n),e.on("mousedown",s)}u.defineOption("jump",!1,((e,t,o)=>{if(o&&o!==u.Init){const t=e.state.jump.onMouseOver;u.off(e.getWrapperElement(),"mouseover",t);const o=e.state.jump.onMouseOut;u.off(e.getWrapperElement(),"mouseout",o),u.off(document,"keydown",e.state.jump.onKeyDown),delete e.state.jump}if(t){const o=e.state.jump={options:t,onMouseOver:M.bind(null,e),onMouseOut:k.bind(null,e),onKeyDown:y.bind(null,e)};u.on(e.getWrapperElement(),"mouseover",o.onMouseOver),u.on(e.getWrapperElement(),"mouseout",o.onMouseOut),u.on(document,"keydown",o.onKeyDown)}}));const D=typeof navigator<"u"&&navigator.userAgent.includes("Mac");function O(e){return e===(D?"Meta":"Control")}function f(e){if(e.state.jump.marker)return;const{cursor:t,options:o}=e.state.jump,n=e.coordsChar(t),s=e.getTokenAt(n,!0),u=o.getDestination||e.getHelper(n,"jump");if(u){const t=u(s,o,e);if(t){const o=e.markText({line:n.line,ch:s.start},{line:n.line,ch:s.end},{className:"CodeMirror-jump-token"});e.state.jump.marker=o,e.state.jump.destination=t}}}function p(e){const{marker:t}=e.state.jump;e.state.jump.marker=null,e.state.jump.destination=null,t.clear()}u.registerHelper("jump","graphql",((e,t)=>{if(!t.schema||!t.onClick||!e.state)return;const{state:o}=e,{kind:n,step:s}=o,u=d(t.schema,o);return"Field"===n&&0===s&&u.fieldDef||"AliasedField"===n&&2===s&&u.fieldDef?l(u):"Directive"===n&&1===s&&u.directiveDef?m(u):"Argument"===n&&0===s&&u.argDef?g(u):"EnumValue"===n&&u.enumValue?c(u):"NamedType"===n&&u.type?j(u):void 0}));